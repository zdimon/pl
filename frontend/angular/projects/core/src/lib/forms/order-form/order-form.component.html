<form [formGroup]="form" (ngSubmit)="onSubmit()" fxLayout="column" fxLayoutGap="10px">

    <mat-form-field appearance="fill">
        <mat-label>Заголовок</mat-label>
        <mat-icon matSuffix>info</mat-icon>
        <mat-error *ngIf="form.controls.title.invalid">Поле обязательно</mat-error>
        <input formControlName="title" matInput placeholder="заголовок">
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Описание</mat-label>
        <mat-icon matSuffix>verified</mat-icon>
       <textarea formControlName="desc" matInput></textarea>
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label> Категория </mat-label>
        <mat-select 
        (selectionChange)="changeCategory($event)" 
        formControlName="category">
          <mat-option *ngFor="let cat of (categories | async)" [value]="cat.id">
            {{ cat.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label> Подкатегория </mat-label>
        <mat-select 
        (selectionChange)="changeSubCategory($event)" 
        formControlName="subCategory">
          <mat-option *ngFor="let subcat of (subCategories | async)" [value]="subcat.id">
            {{ subcat.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>

    <button [disabled]="!form.valid" mat-raised-button  color="accent">Сохранить</button>

</form>

